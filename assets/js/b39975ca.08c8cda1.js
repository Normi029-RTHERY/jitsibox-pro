"use strict";(self.webpackChunknew_project=self.webpackChunknew_project||[]).push([[627],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=i.createContext({}),p=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=p(e.components);return i.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},d=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),d=p(n),m=a,f=d["".concat(s,".").concat(m)]||d[m]||c[m]||r;return n?i.createElement(f,l(l({ref:t},u),{},{components:n})):i.createElement(f,l({ref:t},u))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,l=new Array(r);l[0]=d;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:a,l[1]=o;for(var p=2;p<r;p++)l[p]=n[p];return i.createElement.apply(null,l)}return i.createElement.apply(null,n)}d.displayName="MDXCreateElement"},9061:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>c,frontMatter:()=>r,metadata:()=>o,toc:()=>p});var i=n(7462),a=(n(7294),n(3905));const r={sidebar_position:4},l="Application Frontend",o={unversionedId:"installation/fontend-app",id:"installation/fontend-app",title:"Application Frontend",description:"Introduction",source:"@site/docs/installation/fontend-app.md",sourceDirName:"installation",slug:"/installation/fontend-app",permalink:"/jitsibox-pro/docs/installation/fontend-app",draft:!1,editUrl:"https://github.com/snapcom-factory/jitsibox-pro/blob/wiki/new-project/docs/installation/fontend-app.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Installation avec le Kiosk Mode Windows (avec Edge)",permalink:"/jitsibox-pro/docs/installation/instal-kiosk"},next:{title:"Frontend Apps",permalink:"/jitsibox-pro/docs/github-read-me/apps/apps-read-me"}},s={},p=[{value:"Introduction",id:"introduction",level:2},{value:"Installation et mise en route",id:"installation-et-mise-en-route",level:2},{value:"Structure des dossiers",id:"structure-des-dossiers",level:2},{value:"Caract\xe9ristiques notables",id:"caract\xe9ristiques-notables",level:2},{value:"Commune",id:"commune",level:3},{value:"Controlleur",id:"controlleur",level:3},{value:"\xc9cran principal",id:"\xe9cran-principal",level:3},{value:"\xc0 faire",id:"\xe0-faire",level:2}],u={toc:p};function c(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,i.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"application-frontend"},"Application Frontend"),(0,a.kt)("h2",{id:"introduction"},"Introduction"),(0,a.kt)("p",null,"Ces applications sont ce que les utilisateurs voient sur le contr\xf4leur et les \xe9crans principaux. Elles communiquent entre elles gr\xe2ce au bridge."),(0,a.kt)("p",null,"Ces applications utilisent les m\xeames technologies :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://beta.reactjs.org"},"React")," une librairie frontend Javascript"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.typescriptlang.org"},"Typescript")," un langage de programmation qui est un surensemble de JavaScript"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://mui.com/material-ui/getting-started/overview/"},"MUI")," une biblioth\xe8que de composants React permettant un prototypage rapide"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://vitejs.dev"},"Vite")," une biblioth\xe8que d'outils frontend qui configure notre environnement de d\xe9veloppement"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://socket.io"},"Socket.io")," pour communiquer avec le bridgr via les WebSockets")),(0,a.kt)("h2",{id:"installation-et-mise-en-route"},"Installation et mise en route"),(0,a.kt)("p",null,"Avant l'installation, vous devez ajouter les \xe9l\xe9ments suivants aux fichiers ",(0,a.kt)("inlineCode",{parentName:"p"},".env")," :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"dans l'application ",(0,a.kt)("inlineCode",{parentName:"li"},"controller"),", ajoutez le fichier ",(0,a.kt)("inlineCode",{parentName:"li"},".env")," suivant au m\xeame niveau que les fichiers ",(0,a.kt)("inlineCode",{parentName:"li"},"index.html")," et ",(0,a.kt)("inlineCode",{parentName:"li"},"package.json")," :")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"VITE_DOMAIN = meet.jit.si\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"dans l'application ",(0,a.kt)("inlineCode",{parentName:"li"},"main-screen"),", ajoutez le fichier ",(0,a.kt)("inlineCode",{parentName:"li"},".env")," suivant au m\xeame niveau que les fichiers ",(0,a.kt)("inlineCode",{parentName:"li"},"index.html")," et ",(0,a.kt)("inlineCode",{parentName:"li"},"package.json")," :")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"VITE_WEBCONF_TOKEN = #add the Webconf JWT\nVITE_DOMAIN = meet.jit.si\n")),(0,a.kt)("p",null,"En ex\xe9cutant ",(0,a.kt)("inlineCode",{parentName:"p"},"npm i")," dans chaque dossier d'application, vous devriez pouvoir installer toutes les d\xe9pendances n\xe9cessaires au fonctionnement du projet. Ensuite, vous pouvez utiliser les diff\xe9rents scripts ",(0,a.kt)("inlineCode",{parentName:"p"},"npm")," pour lancer l'application (",(0,a.kt)("inlineCode",{parentName:"p"},"npm run dev")," pour le d\xe9veloppement par exemple)."),(0,a.kt)("h2",{id:"structure-des-dossiers"},"Structure des dossiers"),(0,a.kt)("p",null,"Toutes les applications ont la m\xeame structure de dossiers de base :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"`index.html est le point d'entr\xe9e du site web pour le navigateur."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"src/"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"index.tsx")," ou ",(0,a.kt)("inlineCode",{parentName:"li"},"main.tsx")," sont charg\xe9s \xe0 l'int\xe9rieur de ",(0,a.kt)("inlineCode",{parentName:"li"},"index.html")," et rendent le composant ",(0,a.kt)("inlineCode",{parentName:"li"},"App.tsx"),"."),(0,a.kt)("li",{parentName:"ul"},"Le composant \"App.tsx\" est le point d'entr\xe9e de l'application React."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Routes.tsx")," est le composant principal rendu \xe0 l'int\xe9rieur de ",(0,a.kt)("inlineCode",{parentName:"li"},"App.tsx")," et rend une page diff\xe9rente en fonction du chemin URL."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"views/")," contient les diff\xe9rentes pages rendues par ",(0,a.kt)("inlineCode",{parentName:"li"},"Routes.tsx"),"."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"components/")," contient les composants r\xe9utilisables qui se trouvent dans toute l'application."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"assets/")," contient les images ou les polices utilis\xe9es dans l'application."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"services/")," contient les diff\xe9rents \xe9l\xe9ments de logique utilis\xe9s par l'application.")))),(0,a.kt)("h2",{id:"caract\xe9ristiques-notables"},"Caract\xe9ristiques notables"),(0,a.kt)("h3",{id:"commune"},"Commune"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"services/theme.ts")," d\xe9finit le th\xe8me de l'application (couleur, typographie, ...). Il est utilis\xe9 par tous les composants MUI et est \xe9galement compatible avec les librairies JS externes gr\xe2ce au hook ",(0,a.kt)("inlineCode",{parentName:"li"},"useTheme")," : vous pouvez en savoir plus avec la ",(0,a.kt)("a",{parentName:"li",href:"https://mui.com/material-ui/customization/theming/"},"documentation MUI")),(0,a.kt)("li",{parentName:"ul"},"Nous utilisons un plugin \xe0 Vite qui permet d'utiliser la biblioth\xe8que SVGR : il transforme les fichiers ",(0,a.kt)("inlineCode",{parentName:"li"},".svg")," en composants React permettant une utilisation facile des SVGs dans React.")),(0,a.kt)("h3",{id:"controlleur"},"Controlleur"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"services/snackbar/")," d\xe9finit un composant d'alerte qui peut facilement \xeatre appel\xe9 n'importe o\xf9 dans l'application. Vous pouvez lire la philosophie de notre snackbar ",(0,a.kt)("a",{parentName:"li",href:"https://medium.com/swlh/snackbars-in-react-an-exercise-in-hooks-and-context-299b43fd2a2b"},"ici")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"components/CustomKeyboard/")," d\xe9finit le clavier personnalis\xe9 utilis\xe9 dans les pages Create and Join Meeting. Il utilise une biblioth\xe8que externe qui doit \xeatre remplac\xe9e : vous pouvez en savoir plus \xe0 ce sujet dans le fichier ",(0,a.kt)("inlineCode",{parentName:"li"},"CustomKeyboard.tsx"),".")),(0,a.kt)("h3",{id:"\xe9cran-principal"},"\xc9cran principal"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"services/mediaDevices")," d\xe9finit les fonctions qui nous permettent d'utiliser facilement les MediaDevices dans l'application. La fa\xe7on dont ils sont choisis est faite par le fichier ",(0,a.kt)("inlineCode",{parentName:"li"},"services/config.ts"),"."),(0,a.kt)("li",{parentName:"ul"},"La SharePage essaie d'obtenir un p\xe9riph\xe9rique de partage qu'elle affiche \xe0 l'\xe9cran : pour l'instant, le p\xe9riph\xe9rique de partage est le flux vid\xe9o provenant de ce qui est branch\xe9 sur le port d'entr\xe9e HDMI du Poly GC8."),(0,a.kt)("li",{parentName:"ul"},"Le MeetingPage utilise le Jitsi React SDK, qui est sous le capot l'API Jitsi IFrame. Ainsi, nous sommes pour l'instant limit\xe9s par ce que l'API IFrame propose. Cela limite la fonctionnalit\xe9 de partage \xe0 l'int\xe9rieur d'une r\xe9union : il n'y a actuellement aucun moyen de s\xe9lectionner un dispositif de partage lorsque l'on active le partage d'\xe9cran.")),(0,a.kt)("h2",{id:"\xe0-faire"},"\xc0 faire"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Comme mentionn\xe9 ci-dessus, le CustomKeyboard devrait \xeatre remplac\xe9 : d\xe9finir notre propre clavier, gr\xe2ce aux composants MUI et aux \xe9l\xe9ments grid/flex, devrait nous permettre d'obtenir un clavier r\xe9actif, qui interagit bien avec la fa\xe7on dont nous th\xe9matisons l'application."),(0,a.kt)("li",{parentName:"ul"},"Ajouter la fonction de partage d'\xe9cran \xe0 l'int\xe9rieur d'une r\xe9union Jitsi : pour ce faire, nous pensons que vous devriez soit utiliser la biblioth\xe8que de bas niveau, soit essayer de demander \xe0 l'\xe9quipe Jitsi Meet d'ajouter la fonction manquante ",(0,a.kt)("inlineCode",{parentName:"li"},"setScreenShareDevice")," \xe0 l'API IFrame (ou faire vous-m\xeame une Pull Request)."),(0,a.kt)("li",{parentName:"ul"},"Pour des gains de performance, vous pourriez v\xe9rifier si notre utilisation des crochets ",(0,a.kt)("inlineCode",{parentName:"li"},"useEffect")," \xe9tait n\xe9cessaire selon ce morceau de ",(0,a.kt)("a",{parentName:"li",href:"https://beta.reactjs.org/learn/you-might-not-need-an-effect"},"documentation React"))))}c.isMDXComponent=!0}}]);